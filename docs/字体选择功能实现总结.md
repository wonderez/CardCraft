# 字体选择功能实现总结

## 已完成的功能

1. **UI组件添加**
   - 在工具栏中添加了字体选择下拉框
   - 优先显示常用字体（微软雅黑、Arial等）
   - 添加分隔符区分常用字体和其他系统字体

2. **信号处理**
   - 连接字体选择器的currentIndexChanged信号到on_font_changed方法
   - 实现字体变化时的响应逻辑

3. **字体应用**
   - 在PreviewWidget中添加change_font_family方法
   - 在HtmlGenerator中添加set_font_family方法
   - 修改CSS生成以支持自定义字体

4. **设置保存**
   - 在StyleManager中添加get_setting和save_setting方法
   - 保存用户选择的字体，下次启动时自动加载

## 修改的文件

1. **src/ui/main_window.py**
   - 添加字体选择器UI组件
   - 添加on_font_changed方法
   - 连接信号和处理逻辑

2. **src/ui/preview_widget.py**
   - 添加change_font_family方法

3. **src/core/html_generator.py**
   - 添加set_font_family方法
   - 修改generate方法以传递字体参数

4. **src/utils/style_manager.py**
   - 添加get_setting和save_setting方法
   - 修改generate_css方法以支持字体参数

## 使用方法

1. 在工具栏右侧找到"字体:"下拉框
2. 点击下拉框选择喜欢的字体
3. 预览区域会立即应用新字体
4. 应用程序会记住您的选择，下次启动时自动加载

## 技术细节

- 使用QFontDatabase获取系统字体列表
- 使用QComboBox作为字体选择器
- 通过CSS变量传递字体信息
- 使用StyleManager保存用户设置